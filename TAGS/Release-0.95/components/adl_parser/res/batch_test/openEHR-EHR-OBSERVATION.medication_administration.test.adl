archetype 
	openehr-ehr-OBSERVATION.medication_administration.draft

concept 
	[at1000]  					-- medication administration

description
	author = 		<"Sam Heard and Thomas beale">
	submission = 	<
		organisation = <"Ocean Informatics">
		date = <2004-07-07>
	>
	version = 		<"draft">
	status = 		<"draft">
	revision = 		<"1.0">
	adl_version =	<"1.2">
	rights = 		<"">
	description("en") = 	<
		purpose = 		<"decription of administation of medication">
		use = 		<"">
		misuse = 		<"">
	>

definition
	OBSERVATION[at1000] matches {		-- medication administration
		name matches {
			CODED_TEXT matches {
				code matches {[ac0001]}
			}
		}
		data matches {
			HISTORY[at9001] matches {								-- history
				events cardinality matches {1..*} matches { 	
					EVENT[at9004] occurrences matches {0..*}  matches {		-- event
						data matches {	
							allow_archetype LIST matches {		-- medication description
								include
									id matches {/openehr-ehr-LIST\.medication_description\.*/}
							}
						}
					}
				}
			}
		}
		other_participations cardinality matches {0..*} matches {
			PARTICIPATION [at0010] occurrences matches {1..1} matches {	-- performer
				mode matches {
					CODED_TEXT matches {
						code matches {[openehr::216]}			-- face to face
					}
				}
			}
			PARTICIPATION [at0011] occurrences matches {0..*} matches {	-- other participant
				mode matches {
					CODED_TEXT matches {
						code matches {[openehr::]}
					}
				}
			}
		}
	}

ontology 
	primary_language = <"en">

	languages_available = <"en", ...>

	terminologies_available = <"HL7_ParticipationType", "snomed_ct">

	term_definitions("en") = <
		items("at1000") = <text = <"medication administration">;	description = <"medication administration">>
		items("at0010") = <text = <"performer">;				description = <"performer of administration">>
		items("at0011") = <text = <"other participant">;		description = <"other particpant in administration">>

		items("at9001") = <text = <"history">; 		description = <"history Structural node">>
		items("at9004") = <text = <"event">; 		description = <"any event">>
	>

	constraint_definitions("en") = <
		items("ac0001") = <text = <"medication administration type">; description = <"type of medication administration">>
	>

	term_binding("HL7_ParticipationType") = <
		items("at1000") = <[HL7_ParticipationType::V10248]>	-- performer
	>

	constraint_binding("snomed_ct") = <
		items("ac0001") = <query("terminology", "terminology_id = snomed_ct; is_a [1111111]")> -- is a administration type
	>
	
