archetype
	openEHR-EHR-OBSERVATION.microbiology.test

concept
	[at0000]	-- Microbiology laboratory observations
description
	author = <"Sam Heard <sam.heard@oceaninformatics.biz>">
	submission = <
		organisation = <"openEHR Foundation">
		date = <2004-05-18>
	>
		version = <"version">
	status = <"draft">
	revision = <"1.0">
	description("en") = <
		purpose = <"Describe systemic blood pressure measurement result and protocol">
		use = <"">
		misuse = <"">
	>
	adl_version = <"1.2">
	rights = <"">

definition
	OBSERVATION[at0000] matches {	-- Microbiology laboratory observations
		data matches {
			HISTORY[at0002] matches {	-- history
				events cardinality matches {1..*} matches {
					EVENT[at0003] occurrences matches {1..*} matches {	-- Any event
						data matches {
							TREE[at0001] matches {	-- structure
								items cardinality matches {0..1} matches {
									ELEMENT[at0004] occurrences matches {0..1} matches {	-- Result label
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0001]}		-- =label, battery name
											}
										}
										value matches {
											TEXT matches {*}
										}
									}
									CLUSTER[at0005] occurrences matches {0..1} matches {	-- Specimen
										items cardinality matches {0..1} matches {
											ELEMENT[at0006] occurrences matches {0..1} matches {	-- Sample description
												value matches {
													TEXT matches {*}
												}
											}
											ELEMENT[at0007] occurrences matches {0..1} matches {	-- Site
												value matches {
													TEXT matches {*}
												}
											}
											ELEMENT[at0008] occurrences matches {0..1} matches {	-- Sampling method
												value matches {
													TEXT matches {*}
												}
											}
											ELEMENT[at0036] occurrences matches {0..1} matches {	-- Sterile field
												value matches {True, False}
											}
										}
									}
									CLUSTER[at0009] occurrences matches {0..1} matches {	-- Macroscopic findings
										items cardinality matches {0..1} matches {
											ELEMENT[at0010] occurrences matches {0..1} matches {	-- Colony count
												value matches {
													COUNT matches {
														magnitude matches {|>= 0|}
													}
												}
											}
											ELEMENT[at0011] occurrences matches {0..1} matches {	-- Description
												value matches {
													TEXT matches {*}
												}
											}
										}
									}
									CLUSTER[at0012] occurrences matches {0..1} matches {	-- Microscopic findings
										items cardinality matches {0..1} matches {
											ELEMENT[at0013] occurrences matches {0..1} matches {	-- Microscopy field
												runtime_label matches {
													CODED_TEXT matches {
														code matches {[ac0002]}		-- Any term that 'is_a' microscopy field
													}
												}
												value matches {
													COUNT matches {
														magnitude matches {|>= 0|}
													}
												}
											}
											ELEMENT[at0014] occurrences matches {0..1} matches {	-- Description
												value matches {
													TEXT matches {*}
												}
											}
										}
									}
									CLUSTER[at0015] occurrences matches {0..*} matches {	-- Culture
										items cardinality matches {0..1} matches {
											CLUSTER[at0018] occurrences matches {0..*} matches {	-- Micro-organisam identified
												runtime_label matches {
													CODED_TEXT matches {
														code matches {[ac0003]}		-- Any term that 'is_a' micro-organism
													}
												}
												items cardinality matches {0..1} matches {
													CLUSTER[at0019] occurrences matches {0..1} matches {	-- Therapeutic susceptibilities
														items cardinality matches {0..1} matches {
															CLUSTER[at0021] occurrences matches {0..*} matches {	-- Antimicrobial agent
																runtime_label matches {
																	CODED_TEXT matches {
																		code matches {[ac0004]}		-- Any term that 'is_a' antimicrobial therapy
																	}
																}
																items cardinality matches {0..1} matches {
																	ELEMENT[at0022] occurrences matches {0..1} matches {	-- Sensitivity
																		value matches {
																			ORDINAL matches {
																				value matches {
																					0|[local::at0023], 	-- Not sensitive
																					5|[local::at0024], 	-- Borderline sensitivity
																					10|[local::at0025]  	-- Sensitive
																				}
																			}
																		}
																	}
																	ELEMENT[at0026] occurrences matches {0..1} matches {	-- Quantified sensitivity
																		value matches {
																			REAL_QUANTITY matches {
																				property matches {"concentration"}
																				units cardinality matches {1} matches {
																					UNIT matches {
																						unit_string matches {"%"}
																						magnitude matches {|<= -1|}
																					}
																				}
																			}
																		}
																	}
																	ELEMENT[at0027] occurrences matches {0..1} matches {	-- Method of sensitivity
																		value matches {
																			CODED_TEXT matches {
																				code matches {[local::]}	
																			}
																		}
																	}
																}
															}
														}
													}
												}
											}
											ELEMENT[at0020] occurrences matches {0..1} matches {	-- Culture method
												value matches {
													CODED_TEXT matches {
														code matches {[local::]}	
													}
												}
											}
											ELEMENT[at0028] occurrences matches {0..1} matches {	-- Findings
												value matches {
													TEXT matches {*}
												}
											}
										}
									}
									ELEMENT[at0029] occurrences matches {0..1} matches {	-- Overall comment
										value matches {
											TEXT matches {*}
										}
									}
								}
							}
						}
					}
				}
			}
		}
		protocol matches {
			LIST[at0030] matches {	-- protocol structure
				items cardinality matches {0..1} matches {
					ELEMENT[at0031] occurrences matches {0..*} matches {	-- Microscope type
						value matches {
							TEXT matches {*}
						}
					}
					ELEMENT[at0032] occurrences matches {0..1} matches {	-- Stain
						value matches {
							CODED_TEXT matches {
								code matches {[local::]}	
							}
						}
					}
					ELEMENT[at0033] occurrences matches {0..1} matches {	-- Laboratory identifier
						value matches {
							TEXT matches {*}
						}
					}
					ELEMENT[at0034] occurrences matches {0..*} matches {	-- Adjustments
						runtime_label matches {
							CODED_TEXT matches {
								code matches {[ac0005]}		-- Any valid adjustment label
							}
						}
						value matches {
							TEXT matches {*}
						}
					}
					ELEMENT[at0035] occurrences matches {0..*} matches {	-- Methods
						value matches {
							TEXT matches {*}
						}
					}
				}
			}
		}
	}

ontology
	primary_language = <"en">
	languages_available = <"en", ...>
	term_definitions("en") = <
		items("at0030") = <
			text = <"protocol structure">
			description = <"@ internal @">
		>
		items("at0036") = <
			text = <"Sterile field">
			description = <"Was the sample taken from a sterile field">
		>
		items("at0035") = <
			text = <"Methods">
			description = <"Any methods used">
		>
		items("at0034") = <
			text = <"Adjustments">
			description = <"Any adjustments made">
		>
		items("at0010") = <
			text = <"Colony count">
			description = <"The count of colonies">
		>
		items("at0013") = <
			text = <"Microscopy field">
			description = <"Microscopy field counts">
		>
		items("at0012") = <
			text = <"Microscopic findings">
			description = <"Findings under microscopy">
		>
		items("at0015") = <
			text = <"Culture">
			description = <"Group of findings related to microbiological culture">
		>
		items("at0014") = <
			text = <"Description">
			description = <"Description of the microscopic findings">
		>
		items("at0019") = <
			text = <"Therapeutic susceptibilities">
			description = <"A cluster containing the therapeutic susceptibilities for the named organisem">
		>
		items("at0018") = <
			text = <"Micro-organisam identified">
			description = <"The name of the micro-organism identified">
		>
		items("at0022") = <
			text = <"Sensitivity">
			description = <"Sensitivity of the identified microorganism to the therapeutic agennt">
		>
		items("at0023") = <
			text = <"Not sensitive">
			description = <"Assessed as not sensitive to this agent">
		>
		items("at0020") = <
			text = <"Culture method">
			description = <"The method of culturing">
		>
		items("at0021") = <
			text = <"Antimicrobial agent">
			description = <"The antibiotic or other anti-microbiological agent tested">
		>
		items("at0026") = <
			text = <"Quantified sensitivity">
			description = <"A measure of the sensitivity based on a quantifiable method">
		>
		items("at0027") = <
			text = <"Method of sensitivity">
			description = <"The method used to determine sensitivity">
		>
		items("at0024") = <
			text = <"Borderline sensitivity">
			description = <"Assessed as being an intermediate state">
		>
		items("at0000") = <
			text = <"Microbiology laboratory observations">
			description = <"The observations made in the microbiology laboratory based on a single specimen. This archetype can be repeated in one full microbiology report">
		>
		items("at0001") = <
			text = <"structure">
			description = <"@ internal @">
		>
		items("at0002") = <
			text = <"history">
			description = <"@ internal @">
		>
		items("at0003") = <
			text = <"Any event">
			description = <"Event of reporting - only used for serial measurements">
		>
		items("at0004") = <
			text = <"Result label">
			description = <"The label applied to this result by the laboratory">
		>
		items("at0005") = <
			text = <"Specimen">
			description = <"Details about the specimen received">
		>
		items("at0006") = <
			text = <"Sample description">
			description = <"Description of the sample">
		>
		items("at0007") = <
			text = <"Site">
			description = <"The site of sampling">
		>
		items("at0008") = <
			text = <"Sampling method">
			description = <"The method used for sampling">
		>
		items("at0009") = <
			text = <"Macroscopic findings">
			description = <"Observations without microscopy">
		>
		items("at0011") = <
			text = <"Description">
			description = <"Description of macroscopic findings">
		>
		items("at0025") = <
			text = <"Sensitive">
			description = <"Assessed as sensitive to this agent">
		>
		items("at0029") = <
			text = <"Overall comment">
			description = <"Any overall comment">
		>
		items("at0028") = <
			text = <"Findings">
			description = <"Any information specific to the culture">
		>
		items("at0033") = <
			text = <"Laboratory identifier">
			description = <"The identifier used in the laboratory for this test">
		>
		items("at0032") = <
			text = <"Stain">
			description = <"Type of stain used in the microscopy">
		>
		items("at0031") = <
			text = <"Microscope type">
			description = <"The type of microscope used for microscopy">
		>
	>
	constraint_definitions("en") = <
		items("ac0001") = <
			text = <"=label, battery name">
			description = <"The name or label given to the result - determined by the laboratory">
		>
		items("ac0005") = <
			text = <"Any valid adjustment label">
			description = <"A label for the adjustment made in the result">
		>
		items("ac0004") = <
			text = <"Any term that 'is_a' antimicrobial therapy">
			description = <"Any antimicrobial agent for which sensitivity testing is (or could be) undertaken">
		>
		items("ac0003") = <
			text = <"Any term that 'is_a' micro-organism">
			description = <"Any micro-organism that will be reported in a laboratory">
		>
		items("ac0002") = <
			text = <"Any term that 'is_a' microscopy field">
			description = <"A microscopy field e.g. low power field, high power field etc">
		>
	>
