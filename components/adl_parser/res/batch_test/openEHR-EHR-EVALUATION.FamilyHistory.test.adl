archetype
	openEHR-EHR-EVALUATION.FamilyHistory.test

concept
	[at0000]	-- Family history of condition
description
	author = <"Sam Heard <sam.heard@oceaninformatics.biz>">
	submission = <
		organisation = <"openEHR Foundation">
		date = <2004-05-18>
	>
		version = <"version">
	status = <"draft">
	revision = <"1.0">
	description("en") = <
		purpose = <"Describe systemic blood pressure measurement result and protocol">
		use = <"">
		misuse = <"">
	>
	adl_version = <"1.2">
	rights = <"">

definition
	EVALUATION[at0000] matches {	-- Family history of condition
		data matches {
			TREE[at0001] matches {	-- structure
				items cardinality matches {0..1} matches {
					ELEMENT[at0002] matches {	-- Index condition
						runtime_label matches {
							CODED_TEXT matches {
								code matches {[ac0001]}		-- =Index condition, problem or diagnosis
							}
						}
						value matches {
							CODED_TEXT matches {
								code matches {[ac0002]}		-- Any term that 'is_a' problem
							}
						}
					}
					ELEMENT[at0003] matches {	-- Is negated
						runtime_label matches {
							CODED_TEXT matches {
								code matches {[ac0019]}		-- 
							}
						}
						value matches {True, False}
					}
					CLUSTER[at0004] occurrences matches {0..1} matches {	-- Affected relatives
						runtime_label matches {
							CODED_TEXT matches {
								code matches {[ac0020]}		-- =Affected relatives
							}
						}
						items cardinality matches {0..1} matches {
							CLUSTER[at0005] occurrences matches {0..*} matches {	-- Relative
								runtime_label matches {
									CODED_TEXT matches {
										code matches {[ac0021]}		-- =Relationship(openEHR)
									}
								}
								items cardinality matches {0..1} matches {
									ELEMENT[at0006] occurrences matches {0..1} matches {	-- Name
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0005]}		-- =Name
											}
										}
										value matches {
											TEXT matches {*}
										}
									}
									ELEMENT[at0007] occurrences matches {0..1} matches {	-- Age at onset
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0006]}		-- =Age of onset
											}
										}
										value matches {
											REAL_QUANTITY matches {
												property matches {"time"}
												units cardinality matches {1} matches {
													UNIT matches {
														unit_string matches {"yr"}
														magnitude matches {|0.0..150.0|}
													}
												}
											}
										}
									}
									ELEMENT[at0031] occurrences matches {0..1} matches {	-- Date of onset
										value matches {yyyy-??-??}
									}
									ELEMENT[at0008] occurrences matches {0..1} matches {	-- Age at death
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0007]}		-- =Age at death
											}
										}
										value matches {
											REAL_QUANTITY matches {
												property matches {"time"}
												units cardinality matches {1} matches {
													UNIT matches {
														unit_string matches {"yr"}
														magnitude matches {|0.0..150.0|}
													}
												}
											}
										}
									}
									ELEMENT[at0009] occurrences matches {0..1} matches {	-- Date of death
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0008]}		-- ='Date of death' or 'Year of death'
											}
										}
										value matches {yyyy-??-??}
									}
									ELEMENT[at0010] occurrences matches {0..1} matches {	-- Index condition was cause of death
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0009]}		-- =Was cause of death
											}
										}
										value matches {True, False}
									}
									ELEMENT[at0011] occurrences matches {0..1} matches {	-- Severity
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0010]}		-- =Severity
											}
										}
										value matches {
											ORDINAL matches {
												value matches {
													0|[local::at0012], 	-- Mild
													5|[local::at0013], 	-- Moderate
													10|[local::at0014]  	-- Severe
												}
											}
										}
									}
									ELEMENT[at0015] occurrences matches {0..1} matches {	-- Clinical description
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0011]}		-- =Clinical description
											}
										}
										value matches {
											TEXT matches {*}
										}
									}
									ELEMENT[at0016] occurrences matches {0..1} matches {	-- Genetic relative
										runtime_label matches {
											CODED_TEXT matches {
												code matches {[ac0012]}		-- =Is genetic relative
											}
										}
										value matches {True, False}
									}
								}
							}
						}
					}
					CLUSTER[at0017] occurrences matches {0..*} matches {	-- Affected ratio
						items cardinality matches {0..1} matches {
							ELEMENT[at0018] occurrences matches {0..1} matches {	-- Degree
								runtime_label matches {
									CODED_TEXT matches {
										code matches {[ac0015]}		-- =Type of relative
									}
								}
								value matches {
									CODED_TEXT matches {
										code matches {
											[local::
											at0019, 	-- First degree relatives
											at0020, 	-- Second degree relatives
											at0021, 	-- Third degree relatives
											at0022, 	-- Maternal relatives
											at0023, 	-- Paternal relatives
											at0024]	-- Family
										}
									}
								}
							}
							ELEMENT[at0025] occurrences matches {0..1} matches {	-- Gender
								runtime_label matches {
									CODED_TEXT matches {
										code matches {[ac0014]}		-- =Gender
									}
								}
								value matches {
									CODED_TEXT matches {
										code matches {
											[local::
											at0026, 	-- Male
											at0027, 	-- Female
											at0028]	-- Male and female
										}
									}
								}
							}
							ELEMENT[at0029] occurrences matches {0..1} matches {	-- Number affected
								runtime_label matches {
									CODED_TEXT matches {
										code matches {[ac0016]}		-- =Number affected
									}
								}
								value matches {
									COUNT matches {
										magnitude matches {|0..100|}
									}
								}
							}
							ELEMENT[at0030] occurrences matches {0..1} matches {	-- Number unaffected
								runtime_label matches {
									CODED_TEXT matches {
										code matches {[ac0017]}		-- =Number unaffected
									}
								}
								value matches {
									COUNT matches {
										magnitude matches {|0..100|}
									}
								}
							}
						}
					}
				}
			}
		}
	}

ontology
	primary_language = <"en">
	languages_available = <"en", ...>
	term_definitions("en") = <
		items("at0030") = <
			text = <"Number unaffected">
			description = <"The number of relatives in this group unaffected by the index condition">
		>
		items("at0011") = <
			text = <"Severity">
			description = <"The severity of the condition for this relative">
		>
		items("at0010") = <
			text = <"Index condition was cause of death">
			description = <"Indication that the index was a significant factor in the death of this relative">
		>
		items("at0013") = <
			text = <"Moderate">
			description = <"Significant morbidity and reduced capability">
		>
		items("at0012") = <
			text = <"Mild">
			description = <"Little affect on lifestyle">
		>
		items("at0015") = <
			text = <"Clinical description">
			description = <"A clinical description of the affected relatives condition">
		>
		items("at0014") = <
			text = <"Severe">
			description = <"Major morbidity with significant social impact">
		>
		items("at0017") = <
			text = <"Affected ratio">
			description = <"A ratio of the affected to non-affected relatives of a particular type">
		>
		items("at0016") = <
			text = <"Genetic relative">
			description = <"A genetic relative of the data subject - not an adoptive relative">
		>
		items("at0019") = <
			text = <"First degree relatives">
			description = <"Relatives with 50% genetic share - parent, sibling, child">
		>
		items("at0018") = <
			text = <"Degree">
			description = <"The proximity or line of the relatives">
		>
		items("at0022") = <
			text = <"Maternal relatives">
			description = <"Related through mother">
		>
		items("at0023") = <
			text = <"Paternal relatives">
			description = <"Related through father">
		>
		items("at0020") = <
			text = <"Second degree relatives">
			description = <"Relatives with 25% genetic share - grand parent, aunts and uncles, nieces and nephews, grand children">
		>
		items("at0021") = <
			text = <"Third degree relatives">
			description = <"Relatives with 12.5% genetic share, great grand parents, great aunts and uncles, first cousins, children of neices and nephews, great grand children">
		>
		items("at0026") = <
			text = <"Male">
			description = <"Male gender">
		>
		items("at0027") = <
			text = <"Female">
			description = <"Female gender">
		>
		items("at0024") = <
			text = <"Family">
			description = <"Entire family">
		>
		items("at0000") = <
			text = <"Family history of condition">
			description = <"Evaluation to indicate that there is, or is not, a significant risk of this subject of care having, now or in the future, a condition due to prior occurrence in a family member.">
		>
		items("at0001") = <
			text = <"structure">
			description = <"@ internal @">
		>
		items("at0002") = <
			text = <"Index condition">
			description = <"The condition on which the risk assessment is focussed">
		>
		items("at0003") = <
			text = <"Is negated">
			description = <"Set to true if it is assessed that there is no occurrence">
		>
		items("at0004") = <
			text = <"Affected relatives">
			description = <"The family members affected by the condition">
		>
		items("at0005") = <
			text = <"Relative">
			description = <"Details about the affected relative">
		>
		items("at0006") = <
			text = <"Name">
			description = <"Optional name of the person for future reference">
		>
		items("at0007") = <
			text = <"Age at onset">
			description = <"The age at which the condition was apparent">
		>
		items("at0008") = <
			text = <"Age at death">
			description = <"The age at which this relative died">
		>
		items("at0009") = <
			text = <"Date of death">
			description = <"The year or date of death">
		>
		items("at0025") = <
			text = <"Gender">
			description = <"The gender of the relatives included in the affected ratio">
		>
		items("at0029") = <
			text = <"Number affected">
			description = <"The number affected by the index condition">
		>
		items("at0028") = <
			text = <"Male and female">
			description = <"*">
		>
		items("at0031") = <
			text = <"Date of onset">
			description = <"Date of onset">
		>
	>
	constraint_definitions("en") = <
		items("ac0008") = <
			text = <"='Date of death' or 'Year of death'">
			description = <"*">
		>
		items("ac0021") = <
			text = <"=Relationship(openEHR)">
			description = <"*">
		>
		items("ac0016") = <
			text = <"=Number affected">
			description = <"*">
		>
		items("ac0017") = <
			text = <"=Number unaffected">
			description = <"*">
		>
		items("ac0014") = <
			text = <"=Gender">
			description = <"*">
		>
		items("ac0015") = <
			text = <"=Type of relative">
			description = <"*">
		>
		items("ac0012") = <
			text = <"=Is genetic relative">
			description = <"*">
		>
		items("ac0013") = <
			text = <"Any name for a relative group">
			description = <"*">
		>
		items("ac0010") = <
			text = <"=Severity">
			description = <"*">
		>
		items("ac0011") = <
			text = <"=Clinical description">
			description = <"*">
		>
		items("ac0020") = <
			text = <"=Affected relatives">
			description = <"*">
		>
		items("ac0007") = <
			text = <"=Age at death">
			description = <"*">
		>
		items("ac0006") = <
			text = <"=Age of onset">
			description = <"*">
		>
		items("ac0005") = <
			text = <"=Name">
			description = <"*">
		>
		items("ac0004") = <
			text = <"Any relationship(openEHR)">
			description = <"*">
		>
		items("ac0003") = <
			text = <"=Affected relative">
			description = <"*">
		>
		items("ac0002") = <
			text = <"Any term that 'is_a' problem">
			description = <"Terms which are sensible to record increased risk of family history">
		>
		items("ac0001") = <
			text = <"=Index condition, problem or diagnosis">
			description = <"*">
		>
		items("ac0018") = <
			text = <"Subject relationship (openEHR)">
			description = <"*">
		>
		items("ac0019") = <
			text = <"">
			description = <"*">
		>
		items("ac0009") = <
			text = <"=Was cause of death">
			description = <"*">
		>
	>
